<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skill Gap Analyzer - AI-Powered Career Analysis</title>
    <link rel="stylesheet" href="static/main.css">
</head>
<body>
    <div id="app">
        <!-- Landing Page -->
        <div id="landing-page" class="page active">
            <div class="hero">
                <h1>ğŸ“ Skill Gap Analyzer</h1>
                <h2>AI-Powered Career Analysis with Real Job Data</h2>
                <div class="explanation">
                    <h3>ğŸ¯ What is a Skill Gap?</h3>
                    <p>A skill gap is the difference between the skills you currently have and the skills required for your target job role. Our AI analyzes <strong>1000+ real job descriptions</strong> to give you accurate insights.</p>
                    
                    <h3>ğŸš€ Why Skill Gaps Matter</h3>
                    <div class="benefits">
                        <div class="benefit">
                            <span class="icon">ğŸ¯</span>
                            <div>
                                <strong>Focus Learning</strong>
                                <p>Learn the most important skills first</p>
                            </div>
                        </div>
                        <div class="benefit">
                            <span class="icon">ğŸ“ˆ</span>
                            <div>
                                <strong>Increase Match %</strong>
                                <p>Boost your job compatibility score</p>
                            </div>
                        </div>
                        <div class="benefit">
                            <span class="icon">ğŸ—ºï¸</span>
                            <div>
                                <strong>Career Planning</strong>
                                <p>Strategic development roadmap</p>
                            </div>
                        </div>
                        <div class="benefit">
                            <span class="icon">â­</span>
                            <div>
                                <strong>Stand Out</strong>
                                <p>Impress employers with relevant skills</p>
                            </div>
                        </div>
                    </div>
                    
                    <h3>ğŸ¤– How Our AI System Helps</h3>
                    <ul class="features">
                        <li>ğŸ“Š Analyzes your resume against <strong>1000+ real job descriptions</strong></li>
                        <li>ğŸ§  Uses advanced ML algorithms for accurate skill matching</li>
                        <li>ğŸ“‚ Groups missing skills by category for easy understanding</li>
                        <li>ğŸ” Identifies common vs role-specific skills</li>
                        <li>ğŸ“š Provides personalized learning recommendations</li>
                        <li>â­ Gives you a resume score and readiness level</li>
                    </ul>
                </div>
                <div class="cta-buttons">
                    <button onclick="showPage('login-page')" class="btn-primary">Login</button>
                    <button onclick="showPage('signup-page')" class="btn-secondary">Sign Up</button>
                </div>
            </div>
        </div>

        <!-- Signup Page -->
        <div id="signup-page" class="page">
            <div class="auth-form">
                <h2>Create Account</h2>
                <input type="text" id="signup-name" placeholder="Full Name" required>
                <input type="email" id="signup-email" placeholder="Email" required>
                <input type="password" id="signup-password" placeholder="Password" required>
                <button onclick="signup()" class="btn-primary">Sign Up</button>
                <p class="link-text">Already have an account? <a href="#" onclick="showPage('login-page')">Login</a></p>
                <div id="signup-error" class="error"></div>
            </div>
        </div>

        <!-- Login Page -->
        <div id="login-page" class="page">
            <div class="auth-form">
                <h2>Login</h2>
                <input type="email" id="login-email" placeholder="Email" required>
                <input type="password" id="login-password" placeholder="Password" required>
                <button onclick="login()" class="btn-primary">Login</button>
                <p class="link-text">Don't have an account? <a href="#" onclick="showPage('signup-page')">Sign Up</a></p>
                <div id="login-error" class="error"></div>
            </div>
        </div>

        <!-- Main Dashboard -->
        <div id="dashboard-page" class="page">
            <div class="header">
                <h2>Welcome, <span id="user-name"></span>! ğŸ‰</h2>
                <div class="header-actions">
                    <button onclick="showPage('profile-page')" class="btn-small">Profile</button>
                    <button onclick="logout()" class="btn-secondary">Logout</button>
                </div>
            </div>

            <!-- Step 1: Resume Upload -->
            <div id="resume-upload" class="section">
                <h3>ğŸ“„ Step 1: Upload Your Resume</h3>
                <p class="step-description">Upload your resume to extract skills and experience automatically</p>
                <div class="upload-area">
                    <input type="file" id="resume-file" accept=".pdf,.docx,.txt" onchange="handleResumeUpload()" style="display:none;">
                    <div class="upload-box" onclick="document.getElementById('resume-file').click()">
                        <div class="upload-icon">ğŸ“„</div>
                        <p>Click to upload your resume</p>
                        <small>Supports PDF, DOCX, TXT files</small>
                    </div>
                </div>
                <div id="resume-status" class="status-message"></div>
                
                <div class="alternative-option">
                    <p><strong>OR</strong></p>
                    <button onclick="showManualSkillSelection()" class="btn-secondary">
                        ğŸ“ Select Skills Manually
                    </button>
                </div>
            </div>

            <!-- Step 1 Alternative: Manual Skill Selection -->
            <div id="manual-skill-selection" class="section" style="display:none;">
                <h3>ğŸ“ Step 1: Select Your Skills</h3>
                <p class="step-description">Choose your skills from our comprehensive database of 2000+ technical skills</p>
                
                <div class="experience-selector">
                    <h4>ğŸ‘¨â€ğŸ’¼ Your Experience Level:</h4>
                    <select id="experience-type">
                        <option value="fresher">Fresher (0-1 years)</option>
                        <option value="junior">Junior (1-3 years)</option>
                        <option value="mid">Mid-level (3-5 years)</option>
                        <option value="senior">Senior (5+ years)</option>
                    </select>
                    <input type="number" id="experience-years" placeholder="Years of experience" min="0" max="20" step="0.5">
                </div>
                
                <div id="skill-selector-container" class="skill-selector-container">
                    <!-- Will be populated by JavaScript -->
                </div>
                
                <div class="selected-skills-summary">
                    <h4>âœ… Your Selected Skills (<span id="selected-count">0</span>):</h4>
                    <div id="user-skills" class="user-skills"></div>
                </div>
                
                <div class="manual-actions">
                    <button onclick="analyzeManualSkills()" class="btn-primary" id="analyze-skills-btn">
                        ğŸ§  Analyze My Skills with AI
                    </button>
                    <button onclick="document.getElementById('resume-upload').style.display='block'; document.getElementById('manual-skill-selection').style.display='none';" class="btn-secondary">
                        ğŸ“„ Upload Resume Instead
                    </button>
                </div>
            </div>

            <!-- Step 2: Resume Analysis Results -->
            <div id="resume-analysis" class="section" style="display:none;">
                <h3>ğŸ“Š Step 2: Your Resume Analysis</h3>
                <div id="resume-score" class="score-card"></div>
                <div id="extracted-skills" class="skills-display"></div>
                <div id="initial-matches" class="role-matches"></div>
                
                <!-- New: Skill Recommendations Section -->
                <div id="skill-recommendations" class="skill-recommendations" style="display:none;"></div>
            </div>

            <!-- Step 3: Role Selection -->
            <div id="role-selection" class="section" style="display:none;">
                <h3>ğŸ¯ Step 3: Select Target Role for Analysis</h3>
                <p class="step-description">Choose a role to see detailed skill gap analysis</p>
                <div class="role-selector">
                    <select id="role-select" onchange="analyzeSelectedRole()">
                        <option value="">-- Select a Role from Dataset --</option>
                    </select>
                    <div id="role-info" class="role-info"></div>
                </div>
            </div>

            <!-- Step 4: Detailed Gap Analysis -->
            <div id="gap-analysis" class="section" style="display:none;">
                <h3>ğŸ“ˆ Step 4: Detailed Gap Analysis</h3>
                <div id="analysis-header" class="analysis-header"></div>
                <div id="skills-breakdown" class="skills-breakdown"></div>
                <div id="recommendations" class="recommendations"></div>
                <div class="action-buttons">
                    <button onclick="selectAnotherRole()" class="btn-secondary">Analyze Another Role</button>
                    <button onclick="exportAnalysis()" class="btn-primary">Export Report</button>
                </div>
            </div>

            <!-- New: Intelligent Role Analysis -->
            <div id="role-analysis" class="section" style="display:none;">
                <h3>ğŸ§  AI-Powered Role Analysis</h3>
                <div id="analysis-results" class="intelligent-analysis"></div>
                <div class="analysis-actions">
                    <button onclick="getMarketAnalysis()" class="btn-primary">Get Market Analysis</button>
                    <button onclick="selectAnotherRole()" class="btn-secondary">Analyze Another Role</button>
                </div>
            </div>

            <!-- New: Market Analysis Section -->
            <div id="market-analysis" class="section" style="display:none;">
                <h3>ğŸ“Š Comprehensive Market Analysis</h3>
                <div id="market-results" class="market-analysis-results"></div>
            </div>

            <!-- Additional Role Analysis -->
            <div id="additional-analysis" class="section" style="display:none;">
                <h3>ğŸ”„ Additional Role Analysis</h3>
                <select id="additional-role-select" onchange="analyzeAdditionalRole()">
                    <option value="">-- Select Another Role --</option>
                </select>
                <div id="additional-results"></div>
            </div>
        </div>

        <!-- Profile Page -->
        <div id="profile-page" class="page">
            <div class="section">
                <h3>ğŸ‘¤ Profile Settings</h3>
                <div class="profile-form">
                    <input type="text" id="update-name" placeholder="Name">
                    <select id="experience-type">
                        <option value="">Select Experience Level</option>
                        <option value="fresher">Fresher</option>
                        <option value="internship">Internship</option>
                        <option value="entry-level">Entry Level</option>
                        <option value="experienced">Experienced</option>
                    </select>
                    <input type="number" id="experience-years" placeholder="Years of Experience" min="0" max="20" step="0.5">
                    <button onclick="updateProfile()" class="btn-primary">Update Profile</button>
                    <button onclick="showPage('dashboard-page')" class="btn-secondary">Back to Dashboard</button>
                </div>
                <div id="profile-status" class="status-message"></div>
            </div>
        </div>

        <!-- Loading Overlay -->
        <div id="loading-overlay" class="loading-overlay" style="display:none;">
            <div class="loading-spinner"></div>
            <p>Analyzing your resume with AI...</p>
        </div>
    </div>

    <script src="static/app.js"></script>
    <script src="static/error-handler.js"></script>
</body>
</html>
